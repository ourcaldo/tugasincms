Run docker/build-push-action@v5
GitHub Actions runtime token ACs
Docker info
Proxy configuration
Buildx version
Builder info
/usr/bin/docker buildx build --cache-from type=gha --cache-to type=gha,mode=max --iidfile /home/runner/work/_temp/docker-actions-toolkit-FcdsGb/build-iidfile-9904be1c8e.txt --label org.opencontainers.image.created=2025-10-03T06:11:14.398Z --label org.opencontainers.image.description= --label org.opencontainers.image.licenses= --label org.opencontainers.image.revision=483fd743bc95382966219d3e560c51fe2c2a7bd6 --label org.opencontainers.image.source=https://github.com/ourcaldo/tugasincms --label org.opencontainers.image.title=tugasincms --label org.opencontainers.image.url=https://github.com/ourcaldo/tugasincms --label org.opencontainers.image.version=main --attest type=provenance,mode=max,builder-id=https://github.com/ourcaldo/tugasincms/actions/runs/18214450104 --tag ghcr.io/ourcaldo/tugasincms:main --tag ghcr.io/ourcaldo/tugasincms:latest --metadata-file /home/runner/work/_temp/docker-actions-toolkit-FcdsGb/build-metadata-c59a64f8bd.json --push .
#0 building with "builder-467a28f0-7e9b-4271-ae5e-ae9e0b744dba" instance using docker-container driver
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 211B done
#1 DONE 0.0s
#2 [auth] library/node:pull token for registry-1.docker.io
#2 DONE 0.0s
#3 [internal] load metadata for docker.io/library/node:20-alpine
#3 DONE 0.3s
#4 [internal] load .dockerignore
#4 transferring context: 166B done
#4 DONE 0.0s
#5 [internal] load build context
#5 DONE 0.0s
#6 [1/6] FROM docker.io/library/node:20-alpine@sha256:eabac870db94f7342d6c33560d6613f188bbcf4bbe1f4eb47d5e2a08e1a37722
#6 resolve docker.io/library/node:20-alpine@sha256:eabac870db94f7342d6c33560d6613f188bbcf4bbe1f4eb47d5e2a08e1a37722 done
#6 DONE 0.0s
#7 importing cache manifest from gha:17868946209198385136
#7 DONE 0.1s
#5 [internal] load build context
#5 transferring context: 3.81MB 0.1s done
#5 DONE 0.1s
#8 [2/6] WORKDIR /app
#8 CACHED
#9 [3/6] COPY package*.json ./
#9 CACHED
#10 [4/6] RUN npm ci
#10 CACHED
#10 [4/6] RUN npm ci
#10 sha256:0de821d16564893ff12fae9499550711d92157ed1e6705a8c7f7e63eac0a2bb9 449B / 449B 0.0s done
#10 sha256:6b2e807fe2a590a6f3e6bea73d8f63cacd14cff10f9d9613bbff85fabb3a354c 47.83kB / 47.83kB 0.0s done
#10 sha256:9f6fd785c9653764b1e9f77664b4f96b925955b2e1519b7066f358a4a61ee59c 93B / 93B 0.0s done
#10 sha256:fd345d7e43c58474c833bee593321ab1097dd720bebd8032e75fbf5b81b1e554 1.26MB / 1.26MB 0.1s done
#10 sha256:9824c27679d3b27c5e1cb00a73adb6f4f8d556994111c12db3c5d61a0c843df8 3.80MB / 3.80MB 0.1s done
#10 extracting sha256:9824c27679d3b27c5e1cb00a73adb6f4f8d556994111c12db3c5d61a0c843df8 0.1s done
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 16.78MB / 360.58MB 0.2s
#10 sha256:c88300f8759af46375ccc157a0a0dbf7cdaeded52394b5ce2ce074e3b773fe82 5.24MB / 42.75MB 0.2s
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 65.01MB / 360.58MB 0.5s
#10 sha256:c88300f8759af46375ccc157a0a0dbf7cdaeded52394b5ce2ce074e3b773fe82 25.17MB / 42.75MB 0.3s
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 90.18MB / 360.58MB 0.6s
#10 sha256:c88300f8759af46375ccc157a0a0dbf7cdaeded52394b5ce2ce074e3b773fe82 42.75MB / 42.75MB 0.4s done
#10 extracting sha256:c88300f8759af46375ccc157a0a0dbf7cdaeded52394b5ce2ce074e3b773fe82
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 116.39MB / 360.58MB 0.8s
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 144.70MB / 360.58MB 0.9s
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 169.87MB / 360.58MB 1.1s
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 190.84MB / 360.58MB 1.2s
#10 extracting sha256:c88300f8759af46375ccc157a0a0dbf7cdaeded52394b5ce2ce074e3b773fe82 1.0s done
#10 extracting sha256:fd345d7e43c58474c833bee593321ab1097dd720bebd8032e75fbf5b81b1e554 0.0s done
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 248.51MB / 360.58MB 1.7s
#10 extracting sha256:0de821d16564893ff12fae9499550711d92157ed1e6705a8c7f7e63eac0a2bb9 done
#10 extracting sha256:9f6fd785c9653764b1e9f77664b4f96b925955b2e1519b7066f358a4a61ee59c done
#10 extracting sha256:6b2e807fe2a590a6f3e6bea73d8f63cacd14cff10f9d9613bbff85fabb3a354c done
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 271.58MB / 360.58MB 1.8s
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 315.62MB / 360.58MB 2.1s
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 344.98MB / 360.58MB 2.3s
#10 sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 360.58MB / 360.58MB 2.9s done
#10 extracting sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320
#10 extracting sha256:2c9e0b220bee1426aee756a0aa8184a137d31c57728334fc300d621d24824320 6.5s done
#10 DONE 9.5s
#11 [5/6] COPY . .
#11 DONE 2.4s
#12 [6/6] RUN npm run build
#12 0.193 
#12 0.193 > Build Professional CMS@0.1.0 build
#12 0.193 > next build
#12 0.193 
#12 0.866 Attention: Next.js now collects completely anonymous telemetry regarding usage.
#12 0.867 This information is used to shape Next.js' roadmap and prioritize features.
#12 0.867 You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#12 0.867 https://nextjs.org/telemetry
#12 0.867 
#12 0.925    ▲ Next.js 15.5.4
#12 0.925    - Experiments (use with caution):
#12 0.925      · serverActions
#12 0.925 
#12 1.040    Creating an optimized production build ...
#12 15.59 <w> [webpack.cache.PackFileCacheStrategy] Serializing big strings (175kiB) impacts deserialization performance (consider using Buffer instead and decode when needed)
#12 24.95  ✓ Compiled successfully in 20.9s
#12 24.95    Skipping linting
#12 24.95    Checking validity of types ...
#12 32.12    Collecting page data ...
#12 32.70 Error: Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in your .env file.
#12 32.70     at 87 (.next/server/app/api/categories/[id]/route.js:1:207)
#12 32.70     at c (.next/server/webpack-runtime.js:1:128)
#12 32.70     at 90765 (.next/server/app/api/categories/[id]/route.js:1:7614)
#12 32.70     at c (.next/server/webpack-runtime.js:1:128)
#12 32.70     at <unknown> (.next/server/app/api/categories/[id]/route.js:1:14572)
#12 32.70     at c.X (.next/server/webpack-runtime.js:1:1206)
#12 32.70     at <unknown> (.next/server/app/api/categories/[id]/route.js:1:14542)
#12 32.70     at Object.<anonymous> (.next/server/app/api/categories/[id]/route.js:1:14604)
#12 32.71 
#12 32.71 > Build error occurred
#12 32.71 [Error: Failed to collect page data for /api/categories/[id]] {
#12 32.71   type: 'Error'
#12 32.71 }
#12 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
------
 > [6/6] RUN npm run build:
32.70     at c (.next/server/webpack-runtime.js:1:128)
32.70     at <unknown> (.next/server/app/api/categories/[id]/route.js:1:14572)
32.70     at c.X (.next/server/webpack-runtime.js:1:1206)
32.70     at <unknown> (.next/server/app/api/categories/[id]/route.js:1:14542)
32.70     at Object.<anonymous> (.next/server/app/api/categories/[id]/route.js:1:14604)
32.71 
32.71 > Build error occurred
32.71 [Error: Failed to collect page data for /api/categories/[id]] {
32.71   type: 'Error'
32.71 }
------
Dockerfile:14
--------------------
  12 |     ENV PORT=5000
  13 |     
  14 | >>> RUN npm run build
  15 |     
  16 |     EXPOSE 5000
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
Error: buildx failed with: ERROR: failed to build: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1